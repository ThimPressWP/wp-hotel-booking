!function(t){TPHB_Extra_Admin={init:function(){this.add_extra(),this.remove_extra(),this.toggle_extra()},add_extra:function(){t(document).on("click",".tp_extra_add_item",(function(e){e.preventDefault();var a=t(".tp_extra_form_fields:last"),n=(new Date).getTime(),i=wp.template("wphb-extra-room");i=i({id:n}),0===a.length?t(".tp_extra_form_head").after(i):a.after(i)}))},remove_extra:function(){t(document).on("click",".tp_extra_form_fields .remove_button",(function(e){if(e.preventDefault(),confirm(hotel_booking_i18n.remove_confirm)){var a=t(this),n=a.attr("data-id"),i=a.parents(".tp_extra_form_fields");t.ajax({url:hotel_settings.ajax,type:"POST",data:{package_id:n,action:"tp_extra_package_remove",nonce:hotel_settings.nonce}}).done((function(t){void 0!==t.status&&"success"===t.status&&i.remove()}))}}))},toggle_extra:function(){t(document).on("change",".number_room_select",(function(e){e.preventDefault();var a=t(this),n=a.parents(".hb-search-room-results"),i=n.find(".hb_addition_package_extra"),o=i.find(".hb_addition_packages"),r=a.val();""!==r?(n.parent().siblings().find(".hb_addition_packages").removeClass("active").slideUp(),o.removeAttr("style").addClass("active"),i.removeAttr("style").slideDown()):(i.slideUp(),r=1),n.find(".hb_optional_quantity").val(r)}))}},t(document).ready((function(){TPHB_Extra_Admin.init()}))}(jQuery);